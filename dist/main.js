(()=>{"use strict";function e(e){this.title=e}const t=[];let l;const n=[];function o(e,t,l,n,o){this.title=e,this.description=t,this.schedule=l,this.category=n,this.priority=o}const i=function(){let e=document.querySelector("#newTaskForm"),t=document.querySelector("#addPriority"),l=document.querySelectorAll(".priorityForm");!function(e,t){let l=e.elements.priority;for(let e=0;e<l.length;e++)l[e].checked&&(l[e].checked=!1)}(e),t.style.display="block",l.forEach((e=>e.style.display="none"))},c=function(e){const t=document.querySelector("#taskList");let l=document.createElement("div");l.classList.add("tasks");let n=document.createElement("p");n.classList.add("pOfTask"),n.innerHTML=e.title;let o=document.createElement("p");o.classList.add("pOfTask"),o.classList.add("description"),o.innerHTML=e.description;let i=document.createElement("p");i.classList.add("pOfTask"),i.classList.add("category"),i.innerHTML=e.category,o.appendChild(i),o.style.display="none";let c=document.createElement("p");c.classList.add("pOfTask"),c.innerHTML=e.schedule;let d=document.createElement("button");d.classList.add("expandeDescription");let s=document.createElement("i");s.classList.add("glyphicon"),s.classList.add("glyphicon-resize-full"),d.appendChild(s);let a=document.createElement("button");a.classList.add("deleteTask");let r=document.createElement("i");r.classList.add("glyphicon"),r.classList.add("glyphicon-trash"),a.appendChild(r);let u=document.createElement("button");u.classList.add("modifyTask");let y=document.createElement("i");y.classList.add("glyphicon"),y.classList.add("glyphicon-edit"),u.appendChild(y),function(e){switch(e){case"medium":l.style.backgroundColor="orange";break;case"low":l.style.backgroundColor="yellow";break;case"high":l.style.backgroundColor="red"}}(e.priority),l.appendChild(n),l.appendChild(o),l.appendChild(c),l.appendChild(d),l.appendChild(u),l.appendChild(a),t.appendChild(l)},d=function(e){n.push(e),c(e),s(),a(),r(),console.log(n)},s=function(){let e=document.querySelectorAll(".deleteTask");const t=document.querySelector("#taskList");let l;const o=function(){let e=this.parentNode;l=function(e,t){for(let l=0;l<t.length;l++)if(t[l]===e)return l}(e,n),t.removeChild(this.parentNode),n.splice(l,1)};e.forEach((e=>e.addEventListener("click",o)))},a=function(){let e=document.querySelectorAll(".modifyTask");const t=function(){let e=this.parentNode.childNodes[0],t=this.parentNode.childNodes[1],l=this.parentNode.childNodes[3],o=document.createElement("form");o.name="modificationForm";let i=document.createElement("input");i.id="modifyTitle";let c=document.createElement("input");c.id="modifyDescription";let d=document.createElement("input");d.id="modifySchedule",i.type="text",i.setAttribute("maxlength",20),c.type="text",c.setAttribute("maxlength",50),d.type="date",i.value=e.innerHTML,c.value=t.innerHTML,d.value=l.innerHTML,o.appendChild(i),o.appendChild(c),o.appendChild(d);let s=document.createElement("button");s.innerHTML="confirm",s.type="button",o.appendChild(s);let a=document.createElement("button");a.innerHTML="discard",a.type="button",o.appendChild(a),e.style.display="none",t.style.display="none",l.style.display="none",this.parentNode.appendChild(o);let r=document.querySelector("#modifyTitle"),u=(document.querySelector("#modifyDescription"),document.querySelector("#modifySchedule"));s.addEventListener("click",(()=>{""!=r.value&&""!=u&&(e.innerHTML=r.value,l.innerHTML=u.value,this.parentNode.removeChild(o),e.style.display="block",t.style.display="block",l.style.display="block",console.log(n))})),a.addEventListener("click",(()=>{this.parentNode.removeChild(o),e.style.display="block",t.style.display="block",l.style.display="block"}))};e.forEach((e=>e.addEventListener("click",t)))},r=function(){let e=document.querySelectorAll(".expandeDescription");const t=function(){let e=this.parentNode.childNodes[1];"block"==e.style.display?(e.style.display="none",this.childNodes[0].classList.remove("glyphicon-resize-small"),this.childNodes[0].classList.add("glyphicon-resize-full")):"none"==e.style.display&&(e.style.display="block",this.childNodes[0].classList.remove("glyphicon-resize-full"),this.childNodes[0].classList.add("glyphicon-resize-small"))};e.forEach((e=>e.addEventListener("click",t)))},u=function(){let e=document.querySelectorAll(".pOfCategory");const t=function(){let e=document.getElementsByClassName("tasks");if(null!=e)if("All"==this.innerHTML){for(let t=e.length-1;t>=0;t--)e[t].parentNode.removeChild(e[t]);n.forEach((e=>c(e)))}else{const t=n.filter((e=>e.category==this.innerHTML));for(let t=e.length-1;t>=0;t--)e[t].parentNode.removeChild(e[t]);t.forEach((e=>c(e)))}},o=function(){l=this.innerHTML.toLowerCase()};e.forEach((e=>e.addEventListener("click",t))),e.forEach((e=>e.addEventListener("click",o))),e.forEach((e=>e.addEventListener("click",i())))};!function(){const e=document.querySelector("#newTaskButton");e.addEventListener("click",(function(){document.querySelector("#newTaskForm").style.display="block",e.style.display="none"}))}(),function(){const e=document.querySelector("#addPriority");e.addEventListener("click",(function(){document.querySelectorAll(".priorityForm").forEach((e=>e.style.display="block")),e.style.display="none"}))}(),function(){const e=document.querySelector("#showCategoryForm");e.addEventListener("click",(function(){document.querySelector("#categoryForm").style.display="block",e.style.display="none"}))}(),function(){document.querySelector("#addToList").addEventListener("click",(function(){if(""!=e.value&&""!=n.value){let i=function(){let e;return function(t,l){let n=document.querySelector("#newTaskForm").elements.priority;for(var o=0;o<n.length;o++)if(n[o].checked){e=n[o].value;break}}(),e}();if(null==l&&null==i){let l=new o(e.value,t.value,n.value,"All","default");d(l)}else if(null==l&&null!=i){let l=new o(e.value,t.value,n.value,"All",i);d(l)}else if(null!=l&&null==i){let i=new o(e.value,t.value,n.value,l,"default");d(i)}else if(null!=l&&null!=i){let c=new o(e.value,t.value,n.value,l,i);d(c)}}i()}));let e=document.querySelector("#taskTitle"),t=document.querySelector("#taskDescription"),n=document.querySelector("#taskDate")}(),function(){const e=document.querySelector("#clear");e.addEventListener("click",(function(){let e=document.querySelector("#taskTitle"),t=document.querySelector("#taskDescription"),l=document.querySelector("#taskDate");e.value="",t.value="",l.value=""})),e.addEventListener("click",i)}(),function(){document.querySelector("#addCategory").addEventListener("click",(function(){let o=document.querySelector("#categoryName");if(""!=o.value){let i=new e(o.value);t.push(i),n(i),function(){let e=document.getElementsByClassName("tasks");if(null!=e)for(let t=e.length-1;t>=0;t--)e[t].parentNode.removeChild(e[t])}(),u(),function(){let e=t[t.length-1];l=e.title.toLowerCase()}()}o.value=""}));const n=function(e){const t=document.querySelector("#categoryList");let l=document.createElement("button");l.classList.add("pOfCategory"),l.innerHTML=e.title,t.appendChild(l)}}()})();